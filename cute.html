<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script src="js/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="js/myfunctions.js" type="text/javascript"></script>
    <link href="css/style.css" rel="stylesheet" type="text/css" />
</head>
<body style="-webkit-overflow-scrolling:auto;">
    <div style="background-color:#fcc;height:2000px">
        <div id="cute" class="cute" style="position:absolute;top:100px;left:50px"></div>

        <div id="navlist" class="nav-list">
            <ul>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>

    </div>

    <script type="text/javascript">
        var cuteEntity = {
            element: null,
            startX:0,
            startY:0,
            isActive:false
        }
        cuteEntity.$element = $("#cute");
        cuteEntity.$element.on("touchstart",function(e){
            var offset = cuteEntity.$element.offset();
            var touches = e.originalEvent.touches[0];
            cuteEntity.startX = touches.pageX - offset.left;
            cuteEntity.startY = touches.pageY - offset.top;
            cuteEntity.isActive = true;
        });
        $(document).on("touchmove",function(e){
            if (cuteEntity.isActive == true){
                var touches = e.originalEvent.touches[0];
                var toX = touches.pageX - cuteEntity.startX;
                var toY = touches.pageY - cuteEntity.startY;
                cuteEntity.$element.css({left:toX + "px",top:toY + "px"});
                //console.log("x:" + toX + ";y:" + toY);
                //console.log(.pageX);
            }
            return false;
        });
        $(document).on("touchend",function(e){
            cuteEntity.isActive = false;
        });
        cuteEntity.$element.on("touchend",function(e){
            cuteEntity.isActive = false;
        });

        var listEntity = {
            element: null,
            startX:0,
            startY:0,
            isActive:false
        }
        listEntity.$element = $("#navlist");
        listEntity.$element.on("touchstart",function(e){
            var offset = listEntity.$element.offset();
            var touches = e.originalEvent.touches[0];
            listEntity.startX = touches.pageX - offset.left;
            listEntity.startY = touches.pageY - offset.top;
            listEntity.isActive = true;
        });
        $(document).on("touchmove",function(e){
            if (listEntity.isActive == true){
                var touches = e.originalEvent.touches[0];
                var toX = touches.pageX - listEntity.startX;
                var toY = touches.pageY - listEntity.startY;
                //cuteEntity.$element.css({left:toX + "px",top:toY + "px"});
                listEntity.$element.css({"margin-left":toX + "px"});
                //console.log("x:" + toX + ";y:" + toY);
                //console.log(.pageX);
            }
            return false;
        });
        $(document).on("touchend",function(e){
            listEntity.isActive = false;
        });
        listEntity.$element.on("touchend",function(e){
            listEntity.isActive = false;
        });

    </script>



</body>
</html>